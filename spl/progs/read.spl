alias userSP R3;
alias address R4;

userSP = SP;

address = [[PTBR+2*(userSP-3)/512]*512+(userSP-3)%512];

// translate adress
address = [PTBR + (address/512) * 2 ] * 512 + (address % 512);

inline "IN";

[address] = P0;

[[PTBR+2*(userSP-1)/512]*512+(userSP-1)%512] = 0;

ireturn;
